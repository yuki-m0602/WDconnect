# WDconnect

Androidデバイスへのワイヤレスデバッグを簡単に設定・管理できるGUIツールです。

## 機能

- **ADB自動検出**: Android Debug Bridge (ADB) の自動検索と設定
- **デバイス管理**: USB接続とワイヤレス接続のデバイス一覧表示
- **ワイヤレスデバッグ設定**: ワイヤレスデバッグの有効化・無効化
- **接続管理**: デバイスへの接続・切断
- **scrcpy連携**: スクリーンキャストツールの起動
- **設定保存**: IPアドレスとscrcpyパスの自動保存・復元
- **ログ表示**: 操作履歴の表示と管理

## 必要な環境

- Python 3.6以上
- Android SDK (platform-tools)
- Androidデバイス（USBデバッグ有効）
- scrcpy（オプション、スクリーンキャスト用）

## プロジェクト構成

```
WDconnect/
├── main.py                    # メインエントリーポイント
├── gui.py                     # GUI関連の処理
├── logic.py                   # ビジネスロジック
├── config.py                  # 設定管理
├── wireless_debug_tool_compact.py  # 元の単一ファイル版（参考用）
├── requirements.txt           # 依存関係
├── WDconnect.spec  # PyInstaller設定
├── dist/
│   └── WDconnect.exe  # 実行可能ファイル
└── README.md                  # このファイル
```

## インストール

### 方法1: Pythonスクリプトとして実行

1. リポジトリをクローンまたはダウンロード
2. 依存関係をインストール:
```bash
pip install -r requirements.txt
```
3. アプリケーションを起動:
```bash
python main.py
```

### 方法2: 実行可能ファイルとして実行

最新の実行可能ファイルは `dist/WDconnect.exe` にあります。

## 使用方法

### 1. ADBの設定
- 「自動検索」ボタンをクリックしてADBを自動検索
- 見つからない場合は、手動でAndroid SDKのplatform-toolsフォルダ内のadb.exeのパスを設定
- 「テスト」ボタンでADBの動作確認

### 2. デバイスの検索
- 「デバイススキャン」ボタンをクリックして接続されているデバイスを検索
- ドロップダウンリストからデバイスを選択

### 3. ワイヤレスデバッグの設定

#### 手順1: USBでデバイスを接続
1. AndroidデバイスをUSBケーブルでPCに接続
2. デバイスでUSBデバッグを有効化
3. 「デバイススキャン」ボタンをクリックしてデバイスを確認

#### 手順2: ワイヤレスデバッグを有効化
1. デバイスを選択
2. 「ワイヤレス有効化」ボタンをクリック
3. USBケーブルを外す

#### 手順3: デバイスに接続
1. IPアドレスを選択（192.168.0.または172.18.11.）
2. 末尾の数値を入力（例：100）
3. ポート番号を設定（デフォルト: 5555）
4. 「接続」ボタンをクリック

### 4. scrcpyの設定（オプション）
- 「参照」ボタンをクリックしてscrcpy.exeを選択
- 設定は自動的に保存されます
- 「scrcpy起動」ボタンでスクリーンキャストを開始

### 5. デバイス管理
- **ワイヤレス有効化**: 選択したデバイスでワイヤレスデバッグを有効化
- **ワイヤレス無効化**: ワイヤレスデバッグを無効化してUSB接続に戻す
- **切断**: ワイヤレス接続を切断
- **scrcpy起動**: スクリーンキャストツールを起動

## 実行可能ファイルの作成

### 必要なツール
- Python 3.6以上
- PyInstaller

### ビルド手順

```bash
# 依存関係をインストール
pip install pyinstaller

# 実行可能ファイルを作成
python -m PyInstaller WDconnect.spec
```

ビルドが完了すると、`dist/WDconnect.exe` が作成されます。

## 設定ファイル

アプリケーションは `wireless_debug_config.json` ファイルに以下の設定を自動保存します：

- IPアドレスの基本部分（192.168.0.または172.18.11.）
- IPアドレスの末尾数値
- scrcpyのパス

## トラブルシューティング

### ADBが見つからない場合
1. Android SDKがインストールされているか確認
2. 環境変数PATHにplatform-toolsが追加されているか確認
3. 手動でADBパスを設定

### デバイスが接続されない場合
1. USBデバッグが有効になっているか確認
2. デバイスとPCが同じWi-Fiネットワークに接続されているか確認
3. ファイアウォールでポートがブロックされていないか確認
4. デバイスのIPアドレスが正しいか確認

### ワイヤレスデバッグが有効にならない場合
1. デバイスがUSBで接続されているか確認
2. USBデバッグが有効になっているか確認
3. デバイスがロックされていないか確認

### scrcpyが起動しない場合
1. scrcpyがインストールされているか確認
2. パスが正しく設定されているか確認
3. デバイスが接続されているか確認

## 注意事項

- ワイヤレスデバッグは同じWi-Fiネットワーク内でのみ動作します
- セキュリティ上の理由から、信頼できるネットワークでのみ使用してください
- デバイスのIPアドレスが変更された場合は、再接続が必要です
- 実行可能ファイルは初回起動時に時間がかかる場合があります
- 設定は自動的に保存されます

## 開発環境

このプロジェクトは [Cursor](https://cursor.sh/) で開発されました。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。 